<!--
 * @Author: Martha
 * @Date: 2022-04-29 19:57:16
 * @LastEditors: Martha
 * @LastEditTime: 2022-04-30 21:15:12
 * @FilePath: \code\front-end\vue\031-axios.html
 * @Description: axios
    基于promise封装
    是第三方库，使用必须引用第三方js文件，不存在浏览器中
    post:
    (1)axios.post("****","name=Martha&age=20")
    (2)axios.post("****",{name:"Martha",age:20})
    Content-Type: application/json
    对于axios，post的时候axios.post(url,{a:1,b:2})，第二个参数是对象的时候，默认是这个类型
    Content-Type: application/x-www-form-urlencoded
    对于axios，post的时候let data = {a:1,b:2}; axios.post(url,qs.stringify({ data }))，第二个参数是字符串的时候，默认是这个类型

-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="../lib/vue.js"></script>
    <script src="../lib/axios.min.js"></script>
    <style>
        img{
            width:100px;
            height:140px;

        }
    </style>
</head>
<body>
    <div id="box">
        <button @click="handleClick">ajax-fetch</button>
        <ul>
            <li v-for="actor in actorlist">
                {{actor.name}}
                {{actor.role}} <br>
                <img :src="actor.avatarAddress" alt=""><br>
            </li>
        </ul>
    </div>
    <script>
        new Vue({
            el:"#box",
            data:{
                actorlist:[]
            },

            methods:{
                handleClick(){
                    axios.get("../json/maizuo.json") 
                    .then(res=>{
                        this.actorlist=res.data.data.film.actors//res.data等价于fetch中的第2个res
                    }) 
                }
            }
        })
    </script>
</body>
</html>
